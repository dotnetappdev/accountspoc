/* AdminLTE 4 Compatible JavaScript */
(function() {
    'use strict';
    
    // PushMenu - Sidebar toggle
    document.addEventListener('DOMContentLoaded', function() {
        // Handle push menu button
        const pushMenuBtn = document.querySelector('[data-widget="pushmenu"]');
        if (pushMenuBtn) {
            pushMenuBtn.addEventListener('click', function(e) {
                e.preventDefault();
                document.body.classList.toggle('sidebar-collapse');
            });
        }
        
        // Handle control sidebar button
        const controlSidebarBtn = document.querySelector('[data-widget="control-sidebar"]');
        if (controlSidebarBtn) {
            controlSidebarBtn.addEventListener('click', function(e) {
                e.preventDefault();
                const controlSidebar = document.querySelector('.control-sidebar');
                if (controlSidebar) {
                    const isOpen = controlSidebar.style.right === '0px';
                    controlSidebar.style.right = isOpen ? '-250px' : '0px';
                }
            });
        }
        
        // Handle treeview menu
        const treeviewLinks = document.querySelectorAll('.nav-sidebar .nav-item > .nav-link');
        treeviewLinks.forEach(function(link) {
            link.addEventListener('click', function(e) {
                const navItem = this.parentElement;
                const treeview = navItem.querySelector('.nav-treeview');
                
                if (treeview) {
                    e.preventDefault();
                    navItem.classList.toggle('menu-open');
                }
            });
        });
    });
})();
